<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nova Startup - Système de Facturation Pro</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- CSS personnalisé -->
    <link rel="stylesheet" href="style.css">
    
    <!-- Bibliothèques externes -->
    <script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
    <!-- Écran de connexion -->
    <div class="login-container" id="login-container">
        <div class="card shadow">
            <div class="card-body p-4">
                <div class="logo text-center mb-4">
                    <h1 class="h4 fw-bold text-primary">NOVA STARTUP TECHNOLOGIE CI</h1>
                    <p class="text-muted small">Côte d'Ivoire - Système de Gestion NSTCI</p>
                </div>
                <div class="login-form">
                    <div class="mb-3">
                        <label for="username" class="form-label">Nom d'utilisateur</label>
                        <input type="text" class="form-control" id="username" placeholder="Entrez votre nom d'utilisateur">
                    </div>
                    <div class="mb-3">
                        <label for="password" class="form-label">Mot de passe</label>
                        <input type="password" class="form-control" id="password" placeholder="Entrez votre mot de passe">
                        <div class="error-message" id="login-error">Identifiants incorrects. Veuillez réessayer.</div>
                    </div>
                    <button id="login-btn" class="btn btn-primary w-100">Se Connecter</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Application principale -->
    <div class="app-container container-fluid p-0" id="app-container">
        <!-- En-tête de l'application -->
        <nav class="navbar navbar-dark bg-primary">
            <div class="container-fluid">
                <span class="navbar-brand mb-0 h1">NOVA STARTUP TECHNOLOGIE CI - Système de Facturation Pro</span>
                <div class="d-flex">
                    <span id="user-display" class="navbar-text me-3">Administrateur</span>
                    <button class="btn btn-outline-light btn-sm" id="logout-btn">Déconnexion</button>
                </div>
            </div>
        </nav>
        
        <!-- Navigation par onglets -->
        <ul class="nav nav-tabs" id="mainTabs">
            <li class="nav-item">
                <a class="nav-link active" data-bs-toggle="tab" href="#dashboard">Tableau de Bord</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-bs-toggle="tab" href="#invoice">Créer un Document</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-bs-toggle="tab" href="#clients">Gestion Clients</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-bs-toggle="tab" href="#templates">Modèles</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-bs-toggle="tab" href="#settings">Paramètres</a>
            </li>
        </ul>
        
        <!-- Contenu des onglets -->
        <div class="tab-content p-3" id="mainTabContent">
            <!-- Tableau de bord -->
            <div class="tab-pane fade show active" id="dashboard">
                <h2 class="section-title mb-4">Tableau de Bord</h2>
                
                <div class="row mb-4">
                    <div class="col-md-3 col-sm-6 mb-3">
                        <div class="stat-card card h-100">
                            <div class="card-body text-center">
                                <div class="stat-label text-muted">Documents ce mois</div>
                                <div class="stat-value text-primary" id="month-docs">0</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-6 mb-3">
                        <div class="stat-card card h-100">
                            <div class="card-body text-center">
                                <div class="stat-label text-muted">Chiffre d'affaires</div>
                                <div class="stat-value text-primary" id="month-revenue">0 FCFA</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-6 mb-3">
                        <div class="stat-card card h-100">
                            <div class="card-body text-center">
                                <div class="stat-label text-muted">Clients actifs</div>
                                <div class="stat-value text-primary" id="active-clients">0</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-6 mb-3">
                        <div class="stat-card card h-100">
                            <div class="card-body text-center">
                                <div class="stat-label text-muted">Taux de conversion</div>
                                <div class="stat-value text-primary" id="conversion-rate">0%</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-body">
                        <h3 class="section-title mb-3">Documents Récents</h3>
                        <div class="documents-list" id="recent-documents">
                            <p class="text-muted text-center">Aucun document récent</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Création de documents -->
            <div class="tab-pane fade" id="invoice">
                <div class="row">
                    <!-- Section de formulaire -->
                    <div class="col-lg-4 mb-4">
                        <div class="card h-100">
                            <div class="card-body">
                                <h2 class="section-title mb-4">Configuration du Document</h2>
                                
                                <div class="mb-3">
                                    <label for="document-type" class="form-label">Type de document</label>
                                    <select class="form-select" id="document-type">
                                        <option value="devis">Devis</option>
                                        <option value="facture">Facture</option>
                                        <option value="paiement">Paiement/Versement</option>
                                        <option value="acompte">Acompte</option>
                                    </select>
                                </div>
                                
                                <div class="mb-3">
                                    <label for="client-select" class="form-label">Sélectionner un client</label>
                                    <select class="form-select" id="client-select">
                                        <option value="">-- Nouveau client --</option>
                                    </select>
                                </div>
                                
                                <div id="payment-section" class="payment-section card bg-light p-3 mb-3" style="display: none;">
                                    <h3 class="section-title mb-3">Informations de Paiement</h3>
                                    <div class="mb-3">
                                        <label for="payment-ref" class="form-label">Référence du Paiement</label>
                                        <input type="text" class="form-control" id="payment-ref" placeholder="Réf. du paiement ou versement">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Mode de Paiement</label>
                                        <div class="payment-options">
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="radio" id="cash" name="payment-method" value="Espèces">
                                                <label class="form-check-label" for="cash">Espèces</label>
                                            </div>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="radio" id="transfer" name="payment-method" value="Virement" checked>
                                                <label class="form-check-label" for="transfer">Virement</label>
                                            </div>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="radio" id="check" name="payment-method" value="Chèque">
                                                <label class="form-check-label" for="check">Chèque</label>
                                            </div>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="radio" id="mobile" name="payment-method" value="Mobile Money">
                                                <label class="form-check-label" for="mobile">Mobile Money</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <h3 class="section-title mb-3">Informations du Client</h3>
                                
                                <div class="mb-3">
                                    <label for="client-name" class="form-label">Nom/Raison sociale</label>
                                    <input type="text" class="form-control" id="client-name" placeholder="Nom du client">
                                </div>
                                
                                <div class="mb-3">
                                    <label for="client-address" class="form-label">Adresse</label>
                                    <input type="text" class="form-control" id="client-address" placeholder="Adresse du client">
                                </div>
                                
                                <div class="mb-3">
                                    <label for="client-phone" class="form-label">Téléphone</label>
                                    <input type="text" class="form-control" id="client-phone" placeholder="Téléphone du client">
                                </div>
                                
                                <div class="mb-3">
                                    <label for="client-email" class="form-label">Email</label>
                                    <input type="email" class="form-control" id="client-email" placeholder="Email du client">
                                </div>
                                
                                <h3 class="section-title mb-3">Produits et Services</h3>
                                
                                <div class="mb-3">
                                    <label for="product-reference" class="form-label">Référence</label>
                                    <input type="text" class="form-control" id="product-reference" placeholder="Ex: CAM-001">
                                </div>
                                
                                <div class="mb-3">
                                    <label for="product-description" class="form-label">Désignation</label>
                                    <textarea class="form-control" id="product-description" rows="3" placeholder="Description détaillée du produit/service"></textarea>
                                </div>
                                
                                <div class="row mb-3">
                                    <div class="col-4">
                                        <label for="product-quantity" class="form-label">Quantité</label>
                                        <input type="number" class="form-control" id="product-quantity" value="1" min="1">
                                    </div>
                                    <div class="col-4">
                                        <label for="product-price" class="form-label">Prix Unitaire (FCFA)</label>
                                        <input type="number" class="form-control" id="product-price" step="100" min="0" value="0">
                                    </div>
                                    <div class="col-4">
                                        <label for="product-tva" class="form-label">TVA (%)</label>
                                        <select class="form-select" id="product-tva">
                                            <option value="0">0%</option>
                                            <option value="18" selected>18%</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <button id="add-product" class="btn btn-primary w-100 mb-3">Ajouter le Produit</button>
                                
                                <div class="products-list card" id="products-list">
                                    <div class="card-body">
                                        <div class="empty-products text-center text-muted">Aucun produit ajouté</div>
                                    </div>
                                </div>
                                
                                <h3 class="section-title mb-3 mt-4">Conditions</h3>
                                
                                <div class="mb-3">
                                    <label for="validity" class="form-label">Validité de l'offre (jours)</label>
                                    <input type="number" class="form-control" id="validity" value="30">
                                </div>
                                
                                <div class="mb-3">
                                    <label for="delivery-time" class="form-label">Délai de livraison/installation</label>
                                    <input type="text" class="form-control" id="delivery-time" value="Sous 7 jours ouvrables">
                                </div>
                                
                                <div class="mb-3">
                                    <label for="payment-terms" class="form-label">Conditions de paiement</label>
                                    <input type="text" class="form-control" id="payment-terms" value="70% à la commande, solde à la livraison">
                                </div>
                                
                                <div class="mb-3">
                                    <label for="warranty" class="form-label">Garantie</label>
                                    <input type="text" class="form-control" id="warranty" value="3 mois pièces et main d'œuvre">
                                </div>
                                
                                <div class="mb-3">
                                    <label for="qr-data" class="form-label">Information pour QR Code</label>
                                    <input type="text" class="form-control" id="qr-data" value="NOVA STARTUP - 0554101873 - www.nstcisecure.netlify.app">
                                </div>
                                
                                <div class="actions d-grid gap-2 d-md-flex">
                                    <button id="save-btn" class="btn btn-success flex-fill">Enregistrer</button>
                                    <button id="reset-btn" class="btn btn-danger flex-fill">Réinitialiser</button>
                                    <!-- <button id="print-btn" class="btn btn-primary flex-fill">Imprimer</button> -->
                                    <button id="pdf-btn" class="btn btn-info flex-fill">Générer PDF</button>
                                    <button id="new-doc-btn" class="btn btn-warning flex-fill">Nouveau Document</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Section de prévisualisation -->
                    <div class="col-lg-8">
                        <div class="card h-100">
                            <div class="card-body">
                                <div class="invoice-preview" id="invoice-preview">
                                    <!-- Le contenu de la facture sera généré ici par JavaScript -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Gestion des clients -->
            <div class="tab-pane fade" id="clients">
                <div class="card">
                    <div class="card-body">
                        <h2 class="section-title mb-4">Gestion des Clients</h2>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="new-client-name" class="form-label">Nom du client</label>
                                    <input type="text" class="form-control" id="new-client-name" placeholder="Nom ou raison sociale">
                                </div>
                                <div class="mb-3">
                                    <label for="new-client-contact" class="form-label">Contact</label>
                                    <input type="text" class="form-control" id="new-client-contact" placeholder="Personne à contacter">
                                </div>
                                <div class="mb-3">
                                    <label for="new-client-address" class="form-label">Adresse</label>
                                    <input type="text" class="form-control" id="new-client-address" placeholder="Adresse complète">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="new-client-phone" class="form-label">Téléphone</label>
                                    <input type="text" class="form-control" id="new-client-phone" placeholder="Numéro de téléphone">
                                </div>
                                <div class="mb-3">
                                    <label for="new-client-email" class="form-label">Email</label>
                                    <input type="email" class="form-control" id="new-client-email" placeholder="Adresse email">
                                </div>
                                <button id="add-client" class="btn btn-primary mt-3">Ajouter le Client</button>
                            </div>
                        </div>
                        
                        <div class="client-list mt-4" id="client-list">
                            <!-- Liste des clients -->
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Modèles de documents -->
            <div class="tab-pane fade" id="templates">
                <div class="card">
                    <div class="card-body">
                        <h2 class="section-title mb-4">Modèles de Documents</h2>
                        
                        <div class="row mb-4">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="template-name" class="form-label">Nom du modèle</label>
                                    <input type="text" class="form-control" id="template-name" placeholder="Nom du modèle">
                                </div>
                                <button id="save-template" class="btn btn-primary">Sauvegarder comme modèle</button>
                            </div>
                        </div>
                        
                        <div class="template-list" id="template-list">
                            <!-- Liste des modèles -->
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Paramètres -->
            <div class="tab-pane fade" id="settings">
                <div class="card">
                    <div class="card-body">
                        <h2 class="section-title mb-4">Paramètres</h2>
                        
                        <div class="settings-group mb-4">
                            <h3>Informations de l'entreprise</h3>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="settings-company-name" class="form-label">Nom de l'entreprise</label>
                                        <input type="text" class="form-control" id="settings-company-name" value="NOVA STARTUP TECHNOLOGIE CI">
                                    </div>
                                    <div class="mb-3">
                                        <label for="settings-company-address" class="form-label">Adresse</label>
                                        <input type="text" class="form-control" id="settings-company-address" value="Korhogo, Côte d'Ivoire">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="settings-company-phone" class="form-label">Téléphone</label>
                                        <input type="text" class="form-control" id="settings-company-phone" value="+225 05 54 10 18 73">
                                    </div>
                                    <div class="mb-3">
                                        <label for="settings-company-email" class="form-label">Email</label>
                                        <input type="email" class="form-control" id="settings-company-email" value="nstci@gmail.com">
                                    </div>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="settings-company-activities" class="form-label">Activités</label>
                                <textarea class="form-control" id="settings-company-activities" rows="3">Création de sites web, développement de logiciels, Installation de systèmes vidéosurveillance, Formation</textarea>
                            </div>
                        </div>
                        
                        <div class="settings-group mb-4">
                            <h3>Préférences</h3>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="mb-3">
                                        <label for="settings-currency" class="form-label">Devise</label>
                                        <select class="form-select" id="settings-currency">
                                            <option value="XOF" selected>Franc CFA (FCFA)</option>
                                            <option value="EUR">Euro (€)</option>
                                            <option value="USD">Dollar US ($)</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="mb-3">
                                        <label for="settings-tva" class="form-label">Taux de TVA par défaut (%)</label>
                                        <input type="number" class="form-control" id="settings-tva" value="18" min="0" max="100">
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="mb-3">
                                        <label for="settings-validity" class="form-label">Validité par défaut des devis (jours)</label>
                                        <input type="number" class="form-control" id="settings-validity" value="30" min="1">
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="settings-group mb-4">
                            <h3>Sauvegarde et Restauration</h3>
                            <div class="backup-actions d-flex gap-2">
                                <button id="export-data" class="btn btn-primary">Exporter les données</button>
                                <button id="import-data" class="btn btn-warning">Importer des données</button>
                                <input type="file" id="import-file" accept=".json" style="display: none;">
                            </div>
                        </div>
                        
                        <div class="settings-group">
                            <h3>Sécurité</h3>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="change-password" class="form-label">Changer le mot de passe</label>
                                        <input type="password" class="form-control" id="change-password" placeholder="Nouveau mot de passe">
                                    </div>
                                    <button id="save-password" class="btn btn-primary">Mettre à jour le mot de passe</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification"></div>
    <div id="invoice-print"></div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Script personnalisé -->
    <script src="script.js"></script>
</body>
</html>